{% extends 'base.html.twig' %}

{% set pagetitle = 'Add a new address'|trans %}
{% if address.id %}{% set pagetitle = 'Edit the address'|trans %}{% endif %}
{% block title pagetitle %}

{% block body %}
	<section class="pt-sm-7">
		<div class="container pt-3 pt-xl-5">
			<div class="row">
                {% if address.id %}
                    {% include "global/dashboard-items-navbar-vertical.html.twig" with {activerd: 'address_edit'} %}
                {% else %}
                    {% include "global/dashboard-items-navbar-vertical.html.twig" with {activerd: 'address_new'} %}
                {% endif %}
				<div class="col-lg-8 col-xl-9 ps-lg-4 ps-xl-6">
					<div class="d-flex justify-content-between align-items-center mb-5 mb-sm-6">
						<h1 class="h3 mb-0">{{ 'My address'|trans }}</h1>
						<button class="btn btn-primary d-lg-none flex-shrink-0 ms-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar">
							<i class="fas fa-sliders-h"></i>
							{{ 'Menu'|trans }}
						</button>
					</div>
                    {{ form_start(form, {'attr': {'novalidate': 'novalidate', 'class': 'needs-validation'} }) }}
                        {{ form_widget(form._token) }}
                        {{ form_errors(form) }}
                        <div class="card bg-transparent p-0">
                            <div class="card-header bg-transparent border-bottom p-0 pb-3">
                                <h6 class="mb-0">
                                    {% if address.id %}{{ pagetitle }}{% else %}{{ pagetitle }}{% endif %}
                                </h6>
                            </div>
                            <div class="card-body px-0">
                                <div class="row g-4">
                                    <div class="col-12">
                                        {% component alert with {type: 'info', closeButton: false} %}
                                            {% block content %}
                                                {{ 'The fields preceded with a red * are mandatory'|trans }}
                                            {% endblock %}
                                        {% endcomponent %}
                                    </div>
                                    <div class="mb-3 col-12 col-md-4">
                                        {{ form_row(form.addressType) }}
                                    </div>
                                    <div class="mb-3 col-12 col-md-4">
                                        {{ form_row(form.name) }}
                                    </div>
                                    <div class="mb-3 col-12 col-md-4">
                                        {{ form_row(form.clientName) }}
                                    </div>
                                    <div class="mb-3 col-12">
                                        {{ form_row(form.moreDetails) }}
                                    </div>
                                    <div class="mb-3 col-12 col-md-6">
                                        {{ form_row(form.street) }}
                                    </div>
                                    <div class="mb-3 col-12 col-md-6">
                                        {{ form_row(form.street2) }}
                                    </div>
                                    <div class="mb-3 col-12 col-md-4">
                                        {{ form_row(form.postalcode) }}
                                    </div>
                                    <div class="mb-3 col-12 col-md-4">
                                        {{ form_row(form.city) }}
                                    </div>
                                    <div class="mb-3 col-12 col-md-4">
                                        {{ form_row(form.countrycode) }}
                                    </div>
                                    <div class="col-12 text-end">
                                        <button type="submit" class="btn {% if address.id %}btn-warning{% else %}btn-primary{% endif %} mb-0">
                                            {% if address.id %}{{ 'Update'|trans }}{% else %}{{ 'Save'|trans }}{% endif %}
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {{ form_end(form, {'render_rest': false}) }}
				</div>
			</div>
		</div>
	</section>
{% endblock %}
