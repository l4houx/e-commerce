{% extends 'base.html.twig' %}

{% set pagetitle = 'Sign up'|trans %}
{% block title pagetitle %}

{% block body %}
    {{ form_start(registrationForm, {'attr': {'novalidate': 'novalidate', 'class': 'row justify-content-center needs-validation '} }) }}
        <div class="col-md-6 col-sm-12 mb-3">
            <div class="card">
                <div class="card-body">
                    <h1 class="h3 mb-3 fw-bold text-center">{{ pagetitle }}</h1>
                    {% if errors | length > 0 %}
                        <div class="d-flex alert alert-danger alert-icon" role="alert">
                            {% for error in errors %}
                                <i class="bi bi-exclamation-circle fs-xl pe-1 me-2"></i>
                                <div>{{ error.message }}</div>
                                {% if not loop.last %}
                                    <br/>
                                {% endif %}
                            {% endfor %}
                        </div>
                    {% endif %}
                    {{ form_errors(registrationForm) }}

                    <div class="form-floating mb-3">
                        {{ form_widget(registrationForm.firstname) }}
                        {{ form_label(registrationForm.firstname) }}
                    </div>
                    <div class="form-floating mb-3">
                        {{ form_widget(registrationForm.lastname) }}
                        {{ form_label(registrationForm.lastname) }}
                    </div>
                    <div class="form-floating mb-3">
                        {{ form_widget(registrationForm.username) }}
                        {{ form_label(registrationForm.username) }}
                    </div>
                    {% if registrationForm.email is defined %}
                        <div class="form-floating mb-3">
                            {{ form_widget(registrationForm.email) }}
                            {{ form_label(registrationForm.email) }}
                        </div>
                    {% endif %}
                    {% if registrationForm.plainPassword is defined %}
                        <div class="form-floating mb-3">
                            {{ form_widget(registrationForm.plainPassword.first) }}
                            {{ form_label(registrationForm.plainPassword.first) }}
                        </div>
                        <div class="form-floating mb-3">
                            {{ form_widget(registrationForm.plainPassword.second) }}
                            {{ form_label(registrationForm.plainPassword.second) }}
                        </div>
                    {% endif %}
                    {{ form_row(registrationForm.isAgreeTerms, {
                        label: "By clicking the Sign Up button, I agree to"|trans
                    }) }}

                    <button type="submit" class="btn btn-primary">{{ "Create Account"|trans }}</button>
                    <p class="mt-3 mb-3 text-muted">
                        {{ 'Already have an account?'|trans }}&nbsp;
                        <a class="text-decoration-none" href="{{ path('signin') }}">{{ 'Sign in'|trans }}</a>
                    </p>
                </div>
            </div>
        </div>
        {{ form_widget(registrationForm._token) }}
    {{ form_end(registrationForm, {'render_rest': false}) }}
{% endblock %}
